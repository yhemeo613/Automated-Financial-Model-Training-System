# 自动化金融模型训练系统开发计划

根据您的需求，我制定了以下开发计划，旨在构建一个模块化、可扩展的金融模型训练系统。

## 1. 项目初始化与架构搭建
*   **目录结构设计**：建立清晰的模块化目录（`data_acquisition`, `data_processing`, `models`, `system_integration`, `frontend`）。
*   **环境配置**：
    *   Python 后端：创建 `requirements.txt`，包含 `ccxt`, `pandas`, `numpy`, `scikit-learn`, `torch`, `fastapi`, `uvicorn`, `ta` 等依赖。
    *   Node 前端：初始化前端项目结构（预留）。

## 2. 核心模块实现

### 2.1 数据获取模块 (Data Acquisition)
*   **功能**：连接币安 API 获取 BTCUSDT 数据。
*   **实现**：
    *   封装 `BinanceDataFetcher` 类，使用 `ccxt` 库。
    *   集成 API 密钥配置（从环境变量或配置文件读取，增强安全性）。
    *   实现 `fetch_realtime_data` (实时) 和 `fetch_historical_data` (历史) 方法。
    *   简单的数据存储机制（CSV/JSON 文件存储作为 MVP，保留数据库扩展接口）。

### 2.2 数据处理流水线 (Data Processing Pipeline)
*   **功能**：数据清洗与特征工程。
*   **实现**：
    *   **清洗**：实现 `DataCleaner` 类，包含 3σ/IQR 异常值处理、缺失值插补。
    *   **特征**：实现 `FeatureEngineer` 类，计算 MA, RSI, MACD 等技术指标。
    *   **窗口化**：实现时间序列滑动窗口生成器。

### 2.3 模型架构与训练系统 (Model System)
*   **功能**：模型选择与训练。
*   **实现**：
    *   **模型工厂**：`ModelSelector` 根据任务类型（预测/风控/投顾）返回对应模型实例。
    *   **基类定义**：定义 `BaseModel` 接口，确保所有模型具有统一的 `train`, `predict`, `save`, `load` 方法。
    *   **具体模型实现**：
        *   LSTM/Transformer (基于 PyTorch) 用于预测。
        *   RandomForest/SVM (基于 Scikit-learn) 用于风控。
    *   **训练器**：`ModelTrainer` 封装训练循环、评估和日志记录。

## 3. 系统集成与接口开发 (System Integration)
*   **功能**：提供 REST API 供前端调用，实现自动化流程。
*   **实现**：
    *   使用 FastAPI 构建后端服务。
    *   提供 `/api/data/fetch`, `/api/train`, `/api/predict` 等接口。
    *   简单的后台任务调度（使用 `apscheduler`）实现定时抓取。

## 4. 前端可视化 (Frontend - 基础框架)
*   **功能**：监控与操作界面。
*   **实现**：
    *   使用 React + Vite 初始化项目。
    *   配置 pnpm。
    *   实现基础页面结构（仪表盘框架）。

## 执行步骤
1.  创建项目骨架和配置文件。
2.  实现数据获取与处理模块。
3.  实现模型选择与训练框架。
4.  编写主程序 `main.py` 和 FastAPI 服务。
5.  验证各模块功能。
